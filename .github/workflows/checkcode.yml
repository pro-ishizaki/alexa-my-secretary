name: test Check Code
on:
  push:
    branches:
      - main # トリガーを指定ブランチに限定する場合

jobs:
  my_job1:
    runs-on: ubuntu-latest

    steps:
    - name: Checkout repository
      uses: actions/checkout@v4

    - name: Execute shell command
      run: |
        echo "Hello, world!"
        # ここに実行したいシェルコマンドを追加
        ls -al

    - name: Notify push user
      uses: actions/github-script@v5
      with:
        github-token: ${{ secrets.GITHUB_TOKEN }}
        script: |
          const githubContext = require('@actions/github').context;
          const githubClient = require('@actions/github').getOctokit('${{ secrets.GITHUB_TOKEN }}');

          const message = `A new push was made to the repository by @${githubContext.actor}.`;

          await githubClient.rest.issues.create({
            owner: githubContext.repo.owner,
            repo: githubContext.repo.repo,
            title: "New Push Notification",
            body: message
          });
